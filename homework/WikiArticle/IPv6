[<p><b>網際協定第6版</b>（英語：<span lang="en"><b>I</b>nternet <b>P</b>rotocol <b>v</b>ersion <b>6</b></span>，縮寫：<b>IPv6</b>）是<a href="/wiki/%E7%BD%91%E9%99%85%E5%8D%8F%E8%AE%AE" title="網際協定">網際協定</a>的最新版本，用作<a href="/wiki/%E4%BA%92%E8%81%94%E7%BD%91" title="網際網路">網際網路</a>的<a class="mw-redirect" href="/wiki/%E7%B6%B2%E7%B5%A1%E5%B1%A4" title="網路層">網路層</a>協定。用它來取代<a href="/wiki/IPv4" title="IPv4">IPv4</a>主要是為了解決<a class="mw-redirect" href="/wiki/IPv4%E5%9C%B0%E5%9D%80%E6%9E%AF%E7%AB%AD%E9%97%AE%E9%A2%98" title="IPv4位址枯竭問題">IPv4位址枯竭問題</a>，同時它也在其他方面對於IPv4有許多改進。
</p>, <p>IPv6的設計目的是取代IPv4，然而長期以來IPv4在網際網路流量中仍占據主要地位，IPv6的使用增長緩慢。在2019年12月，通過IPv6使用<a href="/wiki/Google" title="Google">Google</a>服務的用戶百分率首次超過30%。<sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup>
</p>, <p>現今的網際網路發展蓬勃，截至2018年1月，<a href="/wiki/%E5%85%A8%E7%90%83%E7%B6%B2%E9%9A%9B%E7%B6%B2%E8%B7%AF%E4%BD%BF%E7%94%A8%E7%8E%87" title="全球網際網路使用率">全球上網人數</a>已達40.21億，<a href="/wiki/IPv4" title="IPv4">IPv4</a>僅能提供約42.9億個IP位置。雖然目前的<a href="/wiki/%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2" title="網路位址轉換">網路位址轉換</a>及<a href="/wiki/%E6%97%A0%E7%B1%BB%E5%88%AB%E5%9F%9F%E9%97%B4%E8%B7%AF%E7%94%B1" title="無類別域間路由">無類別域間路由</a>等技術可延緩網路位置匱乏之現象，但為求解決根本問題，從1990年開始，<a class="mw-redirect" href="/wiki/%E4%BA%92%E8%81%94%E7%BD%91%E5%B7%A5%E7%A8%8B%E5%B7%A5%E4%BD%9C%E5%B0%8F%E7%BB%84" title="互聯網工程工作小組">互聯網工程工作小組</a>開始規劃<a href="/wiki/IPv4" title="IPv4">IPv4</a>的下一代協定，除要解決即將遇到的IP位址短缺問題外，還要發展更多的擴充功能，為此IETF小組建立IPng，以讓後續工作順利進行。1994年，各IPng領域的代表們於<a class="mw-redirect" href="/wiki/%E5%A4%9A%E5%80%AB%E5%A4%9A" title="多倫多">多倫多</a>舉辦的IETF會議中，正式提議<b>IPv6</b>發展計劃，該提議直到同年的11月17日才被認可，並於1996年8月10日成為IETF的草案標準，最終IPv6在1998年12月由互聯網工程工作小組以網際網路標準規範（<a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc2460" rel="nofollow">RFC 2460</a>）的方式正式公布。
</p>, <p>IPv6的計劃是建立未來網際網路擴充的基礎，其目標是取代IPv4，雖然IPv6在1994年就已被IETF指定作為IPv4的下一代標準，由於早期的路由器、防火牆、企業的<a href="/wiki/%E4%BC%81%E4%B8%9A%E8%B5%84%E6%BA%90%E8%AE%A1%E5%88%92" title="企業資源計劃">企業資源計劃</a>系統及相關應用程式皆須改寫，所以在世界範圍內使用IPv6部署的公眾網與IPv4相比還非常的少<sup class="reference" id="cite_ref-2"><a href="#cite_note-2">[2]</a></sup><sup class="reference" id="cite_ref-3"><a href="#cite_note-3">[3]</a></sup>，技術上仍以雙架構並存居多。預計在2025年以前IPv4仍會被支援，以便給新協定的修正留下足夠的時間。
</p>, <p>IPv6能解決的核心問題與網際網路目前所面臨的關鍵問題之間出現了明顯的偏差，難以給網際網路的發展帶來革命性的影響。與IPv4的各種位址復用解決方案相比，IPv6能夠降低複雜性和成本，然而目前卻只有製造商較能夠感受到這個優勢，用戶和運營商​​無法直接感受到，導致產業鏈缺乏推動IPv6的動力。<sup class="reference" id="cite_ref-4"><a href="#cite_note-4">[4]</a></sup>
</p>, <p>在Internet上，資料以<a class="mw-redirect" href="/wiki/%E5%88%86%E7%BB%84" title="分組">分組</a>的形式傳輸。IPv6定義了一種新的<a class="new" href="/w/index.php?title=IPv6%E5%88%86%E7%BB%84&amp;action=edit&amp;redlink=1" title="IPv6分組（頁面不存在）">分組格式</a>，目的是為了最小化路由器處理的訊息標頭<sup class="reference" id="cite_ref-rfc2460_5-0"><a href="#cite_note-rfc2460-5">[5]</a></sup><sup class="reference" id="cite_ref-rfc1726_6-0"><a href="#cite_note-rfc1726-6">[6]</a></sup>。由於IPv4訊息和IPv6訊息標頭有很大不同，因此這兩種協定無法互操作。但是在大多數情況下，IPv6僅僅是對IPv4的一種保守擴展。除了嵌入了網際網路位址的那些應用協定（如<a class="mw-redirect" href="/wiki/FTP" title="FTP">FTP</a>和<a class="mw-redirect" href="/wiki/%E7%B6%B2%E7%B5%A1%E6%99%82%E9%96%93%E5%8D%94%E8%AD%B0" title="網路時間協定">NTPv3</a>，新位址格式可能會與目前協定的語法衝突）以外，大多數傳輸層和應用層協定幾乎不怎麼需要修改就可以在IPv6上運行。
</p>, <p>當連接到IPv6網路上時，IPv6主機可以使用<a href="/wiki/%E9%82%BB%E5%B1%85%E5%8F%91%E7%8E%B0%E5%8D%8F%E8%AE%AE" title="鄰居發現協定">鄰居發現協定</a>對自身進行自動組態。當第一次連接到網路上時，主機傳送一個<a href="/wiki/%E9%93%BE%E8%B7%AF%E6%9C%AC%E5%9C%B0%E5%9C%B0%E5%9D%80" title="鏈路本地位址">鏈路本地</a>路由器請求（solicitation）多播請求來取得組態參數。路由器使用包含Internet層組態參數的路由器宣告（advertisement）報文進行回應<sup class="reference" id="cite_ref-rfc4862_7-0"><a href="#cite_note-rfc4862-7">[7]</a></sup>。
</p>, <p>在不適合使用IPv6無狀態位址自動組態的場景下，網路可以使用有狀態組態，如<a href="/wiki/DHCPv6" title="DHCPv6">DHCPv6</a>，或者使用靜態方法手動組態。
</p>, <p>IPv6具有比IPv4大得多的編碼位址空間。這是因為IPv6採用128位元的位址，而IPv4使用的是32位元。因此新增的位址空間支援2<sup>128</sup>（約3.4×10<sup>38</sup>）個位址，具體數量為340,282,366,920,938,463,463,374,607,431,768,211,456 個，也可以說成16<sup>32</sup>個，因為32位元位址每位可以取16個不同的值。
</p>, <p><a class="mw-redirect" href="/wiki/%E7%B6%B2%E7%B5%A1%E5%9C%B0%E5%9D%80%E8%BD%89%E6%8F%9B" title="網路位址轉換">網路位址轉換</a>是目前減緩IPv4位址耗盡最有效的方式，而IPv6的位址消除了對它的依賴，被認為足夠在可以預測的未來使用。就以地球人口70億人計算，每人平均可分得約4.86×10<sup>28</sup>（486117667×10<sup>20</sup>）個IPv6位址。
</p>, <p>IPv6從IPv4到IPv6最顯著的變化就是網路位址的長度。RFC 2373和RFC 2374定義的IPv6位址有128位元長；IPv6位址的表達形式一般採用32個十六進制數。
</p>, <p>在很多場合，IPv6位址由兩個邏輯部分組成：一個64位元的網路前綴和一個64位元的主機位址，主機位址通常根據實體位址自動生成，叫做EUI-64（或者64-位擴展唯一標識）。
</p>, <p>IPv6二進位制下為128位元長度，以16位元為一組，每組以冒號「:」隔開，可以分為8組，每組以4位<a class="mw-redirect" href="/wiki/%E5%8D%81%E5%85%AD%E9%80%B2%E5%88%B6" title="十六進制">十六進制</a>方式表示。例如：<code>2001:0db8:86a3:08d3:1319:8a2e:0370:7344</code> 是一個合法的IPv6位址。類似於IPv4的點分十進位，同樣也存在點分十六進位的寫法，將8組4位元十六進位位址的冒號去除後，每位以點號「.」分組，例如：<code>2001:0db8:85a3:08d3:1319:8a2e:0370:7344</code>則記為<code>2.0.0.1.0.d.b.8.8.5.a.3.0.8.d.3.1.3.1.9.8.a.2.e.0.3.7.0.7.3.4.4</code>，其倒序寫法用於<a href="/wiki/.arpa" title=".arpa">ip6.arpa</a>子域名記錄IPv6位址與域名的對映。
</p>, <p>同時IPv6在某些條件下可以省略：
</p>, <p>另外，::ffff:1.2.3.4 格式叫做<b>IPv4對映位址</b>。
</p>, <p>IPv4位元址可以很容易的轉化為IPv6格式。舉例來說，如果IPv4的一個位址為135.75.43.52（十六進位為0x874B2B34），它可以被轉化為0000:0000:0000:0000:0000:FFFF:874B:2B34 或者::FFFF:874B:2B34。同時，還可以使用混合符號（<span lang="en">IPv4-compatible address</span>），則位址可以為::ffff:135.75.43.52。
</p>, <p>IPv6位址可分為三種：<sup class="reference" id="cite_ref-rfc2373_8-0"><a href="#cite_note-rfc2373-8">[8]</a></sup>
</p>, <p>IANA維護官方的IPv6位址空間列表<sup class="reference" id="cite_ref-9"><a href="#cite_note-9">[9]</a></sup>。全域的單播位址的分配可在各個<a href="/wiki/%E5%8C%BA%E5%9F%9F%E4%BA%92%E8%81%94%E7%BD%91%E6%B3%A8%E5%86%8C%E7%AE%A1%E7%90%86%E6%9C%BA%E6%9E%84" title="區域網際網路註冊管理機構">區域網際網路註冊管理機構</a>或 GRH DFP 頁面找到<sup class="reference" id="cite_ref-10"><a href="#cite_note-10">[10]</a></sup>。
</p>, <p>IPv6中有些位址是有特殊含義的：
</p>, <p>IPv6封包由兩個主要部分組成：頭部和負載。
</p>, <p>包頭是包的前64位元，並且包含有源和目的位址，協定版本，通信類別（8位元，包優先級），流標記（20位元，<a class="mw-redirect" href="/wiki/QoS" title="QoS">QoS</a>服務品質控制），分組長度（16位元），下一個頭部（用於入棧解碼，類似IPv4中的協定號），和跳段數限制（8位元，生存時間，相當於IPv4中的TTL）。後面是負載。MTU至少1280位元組長，在常見的乙太網路環境中為1500位元組。負載在標準模式下最大可為65535位元組，如果擴充報頭設定了"jumbo payload"選項，則長度值被置為0。
</p>, <p>IPv6曾有兩個有著細微差別的版本；在 <a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc1883" rel="nofollow">RFC 1883</a> 中定義的原始版本（現在廢棄）和 <a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc2460" rel="nofollow">RFC 2460</a> 中描述的現在提議的標準版本。兩者主要在通信類別這個選項上有所不同，它的位數由4位元變為了8位元。其他的區別都是微不足道的。
</p>, <p>由於<a href="/wiki/IP%E5%88%86%E7%89%87" title="IP分片">分片</a>（Fragmentation）只在IPv6的主機中處理，而IPv6也要求實現「MTU路徑發現」來避免封包需要被中間裝置分片，所以IPv4頭涉及分片的欄位從IPv6基本頭移出至專用的分片擴充報頭中。
</p>, <p>在IPv6中，可選項都被從標準頭部中移出並在協定欄位中指定，類似於IPv4的協定欄位功能。
</p>, <p>IPv6位址在域名系統中為執行正向解析表示為AAAA記錄（所謂4A記錄，類似地，IPv4表示為A記錄(A record)）；反向解析在ip6.<i>arpa</i>（原先是ip6.int）下進行，在這裡位址空間為半位元組16進位數字格式。這種模式在RFC 3596給與了定義。
</p>, <p>AAAA模式是IPv6結構設計時的兩種提議之一。另外一種正向解析為A6記錄。也有一些其他的創新像二進位串標籤和DNAME記錄等。RFC 2874和它的一些參照中定義了這種模式。
</p>, <p>AAAA模式只是IPv6域名系統的簡單概括，A6模式使域名系統中檢查更全面，也因此更複雜：
</p>, <p>2002年8月的RFC 3363中對AAAA模式給與了有效的標準化（在RFC 3364有對於兩種模式優缺點的更深入的討論）。
</p>, <p>2004年7月時<a class="mw-redirect" href="/wiki/ICANN" title="ICANN">ICANN</a>聲稱網際網路的<a href="/wiki/%E6%A0%B9%E7%B6%B2%E5%9F%9F%E5%90%8D%E7%A8%B1%E4%BC%BA%E6%9C%8D%E5%99%A8" title="根網域名稱伺服器">根域名伺服器</a>已經經過改進以同時支援IPv6和IPv4。<sup class="reference" id="cite_ref-12"><a href="#cite_note-12">[12]</a></sup>
</p>, <p>缺點：
</p>, <p>工作：
</p>, <p>部署進度：
</p>, <p><a href="/wiki/IPsec" title="IPsec">網際網路安全協定</a>（Internet Protocol Security，即IPsec）原本為IPv6開發，但是在IPv4中已經大量部署。IPsec最初是IPv6協定的強制要求<sup class="reference" id="cite_ref-rfc4301_14-0"><a href="#cite_note-rfc4301-14">[14]</a></sup>，但後來改為可選項。<sup class="reference" id="cite_ref-rfc6434_15-0"><a href="#cite_note-rfc6434-15">[15]</a></sup>
</p>, <p>在IPv6完全取代IPv4前，需要一些轉換機制<sup class="reference" id="cite_ref-sixxs_16-0"><a href="#cite_note-sixxs-16">[16]</a></sup>使得只支援IPv6的主機可以連絡IPv4服務，並且允許孤立的IPv6主機及網路可以藉由IPv4設施連絡IPv6網際網路。
</p>, <p>在IPv6主機和路由器與IPv4系統共存的時期時，<a class="external text" href="http://tools.ietf.org/html/rfc2893" rel="nofollow">RFC2893</a>和<a class="external text" href="http://tools.ietf.org/html/rfc2185" rel="nofollow">RFC2185</a>定義了轉換機制。這些技術，有時一起稱作<b>簡單網際網路轉換</b>（SIT，Simple Internet Transition）。<sup class="reference" id="cite_ref-17"><a href="#cite_note-17">[17]</a></sup>包含：
</p>, <p>許多轉換機制使用穿隧來把IPv6交通包封在IPv4網路中。這個解決方案並不完美，可能會增加延時以及引起<b>路徑最大傳輸單元發現</b>（Path MTU Discovery）的問題，<sup class="reference" id="cite_ref-18"><a href="#cite_note-18">[18]</a></sup>它並不總能執行，因為過時的網路裝置可能不支援IPv6。有線電視基礎上的Internet存取就是一個例子。在現代的有線電視網路中，光纖同軸混合網（HFC）的核心（比如大型核心路由器）是有可能支援IPv6的。然而，其他網路裝置（比如一個<a class="new" href="/w/index.php?title=%E7%BA%BF%E7%BC%86%E8%B0%83%E5%88%B6%E8%A7%A3%E8%B0%83%E5%99%A8%E7%BB%88%E7%AB%AF%E7%B3%BB%E7%BB%9F&amp;action=edit&amp;redlink=1" title="線纜數據機終端系統（頁面不存在）">線纜數據機終端系統</a>（CMTS）)以及用戶裝置（如<a class="mw-redirect" href="/wiki/%E7%BA%BF%E7%BC%86%E8%B0%83%E5%88%B6%E8%A7%A3%E8%B0%83%E5%99%A8" title="線纜數據機">線纜數據機</a>）會需要軟體更新或硬體更新來支援IPv6。這意味著線纜網路業者必須調整適應穿隧直至主幹裝置支援內部雙堆疊。
</p>, <p>雙堆疊（Dual IP stack implementation）是將IPv6視為一種IPv4的延伸，以共享程式碼的方式去實作網路堆疊，其可以同時支援IPv4和IPv6，如此是相對較為容易的。如此的實作稱為「雙堆疊」，並且，一個實作雙堆疊的主機稱為「雙堆疊主機」。這步驟描述於RFC 4213。
</p>, <p>目前大部分IPv6的實現使用雙堆疊。一些早期實驗性實作使用獨立的IPv4和IPv6堆疊。
</p>, <p>穿隧（Tunneling）是另一個用來連結IPv4與IPv6的機制。為了連通IPv6網際網路，一個孤立主機或網路需要使用現存IPv4的基礎設施來攜帶IPv6封包。這可由將IPv6封包裝入IPv4封包的<a href="/wiki/%E9%9A%A7%E9%81%93%E5%8D%8F%E8%AE%AE" title="穿隧協定">穿隧協定</a>來完成，實際上就是將IPv4當成IPv6的連結層。
</p>, <p>IP協定號碼的41號用來標示將IPv6資料訊框直接裝入IPv4封包。IPv6亦能加入UDP封包，如為了跨過一些會阻擋協定41流量的路由器或NAT裝置。其它流行的封裝機制則有<a class="new" href="/w/index.php?title=AYIYA&amp;action=edit&amp;redlink=1" title="AYIYA（頁面不存在）">AYIYA</a>和<a href="/wiki/%E9%80%9A%E7%94%A8%E8%B7%AF%E7%94%B1%E5%B0%81%E8%A3%85" title="通用路由封裝">GRE</a>。
</p>, <p>自動穿隧（Automatic tunneling）指路由設施自動決定穿隧端點的技術。RFC 3056建議使用<a href="/wiki/6to4" title="6to4">6to4</a>穿隧技術來自動穿隧，其會使用41協定來封裝。<sup class="reference" id="cite_ref-rfc3056_19-0"><a href="#cite_note-rfc3056-19">[19]</a></sup>  穿隧端點是由遠端知名的IPv4任播位址所決定，並在本地端嵌入IPv4位元址資訊到IPv6中。現今6to4是廣泛布署的。
</p>, <p><a class="mw-redirect" href="/wiki/Teredo" title="Teredo">Teredo</a>是使用UDP封裝的穿隧技術，據稱可跨越多個NAT裝置。<sup class="reference" id="cite_ref-rfc4380_20-0"><a href="#cite_note-rfc4380-20">[20]</a></sup>Teredo並非廣泛用於布署的，但一個實驗性版本的Teredo已安裝於Windows XP SP2 IPv6堆疊中。IPv6，包含6to4穿隧和Teredo穿隧，在<a href="/wiki/Windows_Vista" title="Windows Vista">Windows Vista</a>中預設是啟動的。<sup class="reference" id="cite_ref-vista_21-0"><a href="#cite_note-vista-21">[21]</a></sup>許多Unix系統只支援原生的6to4，但Teredo可由如Miredoo的第三方軟體來提供。
</p>, <p><a href="/wiki/ISATAP" title="ISATAP">ISATAP</a><sup class="reference" id="cite_ref-rfc4214_22-0"><a href="#cite_note-rfc4214-22">[22]</a></sup>藉由將IPv4位元址對應到IPv6的鏈路本地位址，從而將IPv4網路視為一種虛擬的IPv6區域連線。不像6to4和Teredo是<i>站點間</i>的穿隧機制，ISATAP是一種<i>站點內</i>機制，意味著它是用來設計提供在一個組織內節點之間的IPv6連接性。
</p>, <p>在<i>組態穿隧</i>中，如<a href="/wiki/6in4" title="6in4">6in4</a>穿隧隧，穿隧端點是要明確組態過的，可以是藉由管理員手動或作業系統的組態機制，或者藉由如tunnel broker等的自動服務。<sup class="reference" id="cite_ref-rfc3053_23-0"><a href="#cite_note-rfc3053-23">[23]</a></sup>組態穿隧通常比自動穿隧更容易去除錯，故建議用於大型且良好管理的網路。
</p>, <p>組態穿隧在IPv4穿隧上，使用<a class="mw-redirect" href="/wiki/%E7%B6%B2%E9%9A%9B%E5%8D%94%E8%AD%B0" title="網際協定">網際協定</a>中號碼的41號。
</p>, <p>在<a class="mw-redirect" href="/wiki/RIR" title="RIR">區域網際網路註冊管理機構</a>耗盡所有可使用的IPv4位元址後，非常有可能使新加入網際網路的主機只具有IPv6連接能力。對這些須要向後相容以能存取IPv4資源的客戶端，須要布署合適的轉換機制。
</p>, <p>一種轉換技術是使用雙堆疊的<a class="mw-redirect" href="/wiki/%E4%BB%A3%E7%90%86%E4%BC%BA%E6%9C%8D%E5%99%A8" title="代理伺服器">應用層代理</a>，如網頁代理伺服器。
</p>, <p>一些對於應用程式無法得知但在其低層使用類NAT轉換技術也曾被提出。但因為一般應用層協定所要求的能力其應用太廣，其中大部分都被認定在實際上太不可靠，並且被認為應刪除。
</p>]