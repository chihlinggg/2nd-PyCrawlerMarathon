[<p><b>檔案傳輸協定</b>（英語：<span lang="en"><b>F</b>ile <b>T</b>ransfer <b>P</b>rotocol</span>，縮寫：<b>FTP</b>）是一個用於在<a class="mw-redirect mw-disambig" href="/wiki/%E7%B6%B2%E7%B5%A1" title="網路"><span class="cx-segment" data-segmentid="4"></span></a><a href="/wiki/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C" title="電腦網路">電腦網路</a>上在<span class="cx-segment" data-segmentid="4"><a href="/wiki/%E4%B8%BB%E5%BE%9E%E5%BC%8F%E6%9E%B6%E6%A7%8B" title="主從式架構">客戶端和伺服器</a></span>之間進行檔案傳輸的<a href="/wiki/%E5%BA%94%E7%94%A8%E5%B1%82" title="應用層">應用層</a><span class="cx-segment" data-segmentid="4"><a href="/wiki/%E7%BD%91%E7%BB%9C%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE" title="網路傳輸協定">協定</a></span>。檔案傳送（file transfer）和檔案存取（file access）之間的區別在於：前者由FTP提供，後者由如<a href="/wiki/%E7%BD%91%E7%BB%9C%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F" title="網路檔案系統">NFS</a>等應用系統提供<sup class="reference" id="cite_ref-1"><a href="#cite_note-1">[1]</a></sup>。參考文獻 <a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc959" rel="nofollow">RFC 959</a> 定義了此規範。
</p>, <p>FTP是一個8位元的客戶端-伺服器協定，能操作任何類型的檔案而不需要進一步處理，就像<a class="mw-redirect" href="/wiki/MIME" title="MIME">MIME</a>或<a href="/wiki/Unicode" title="Unicode">Unicode</a>一樣。但是，FTP有著極高的延時，這意味著，從開始請求到第一次接收需求資料之間的時間，會非常長；並且不時的必須執行一些冗長的登入行程。
</p>, <p>原始規範由 Abhay Bhushan 編寫，並於1971年4月16日作為 <a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc114" rel="nofollow">RFC 114</a> 發布。直到1980年，FTP 才在<a class="mw-redirect" href="/wiki/TCP/IP" title="TCP/IP">TCP/IP</a>的前身NCP上執行。該協定先被TCP/IP版本，<a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc765" rel="nofollow">RFC 765</a>（1980年6月）取代，後來又被 <a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc959" rel="nofollow">RFC 959</a>（1985年10月）所取代，這也是目前規範。RFC 959提出了若干標準修改，例如 <a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc1579" rel="nofollow">RFC 1579</a>（1994年2月）使 FTP 能夠穿越<a class="mw-disambig" href="/wiki/NAT" title="NAT">NAT</a>與<a href="/wiki/%E9%98%B2%E7%81%AB%E5%A2%99" title="防火牆">防火牆</a>（被動模式），<a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc2228" rel="nofollow">RFC 2228</a>（1997年6月）提出安全擴充，<a class="external mw-magiclink-rfc" href="https://tools.ietf.org/html/rfc2428" rel="nofollow">RFC 2428</a>（1998年9月）增加了對<a href="/wiki/IPv6" title="IPv6">IPv6</a>的支援，並定義了一種新型的被動模式。
</p>, <p>FTP服務一般執行在20和21兩個<a href="/wiki/%E9%80%9A%E8%A8%8A%E5%9F%A0" title="通訊埠">埠</a>。埠20用於在客戶端和伺服器之間傳輸資料流，而埠21用於傳輸控制流，並且是命令通向ftp伺服器的進口。當資料通過資料流傳輸時，控制流處於空閒狀態。而當控制流空閒很長時間後，客戶端的防火牆會將其對談置為超時，這樣當大量資料通過防火牆時，會產生一些問題。此時，雖然檔案可以成功的傳輸，但因為控制對談，會被防火牆斷開；傳輸會產生一些錯誤。
</p>, <p>FTP雖然可以被終端用戶直接使用，但是它是設計成被FTP客戶端程式所控制。
</p>, <p>執行FTP服務的許多站點都開放匿名服務，在這種設定下，用戶不需要帳號就可以登入伺服器，預設情況下，匿名用戶的用戶名稱是：「anonymous」。這個帳號不需要密碼，雖然通常要求輸入用戶的郵件位址作為認證密碼，但這只是一些細節或者此郵件位址根本不被確定，而是依賴於FTP伺服器的組態情況。 
</p>, <p>FTP有兩種使用模式：主動和被動。主動模式要求客戶端和伺服器端同時開啟並且監聽一個埠以建立連接。在這種情況下，客戶端由於安裝了防火牆會產生一些問題。所以，創立了被動模式。被動模式只要求伺服器端產生一個監聽相應埠的行程，這樣就可以繞過客戶端安裝了防火牆的問題。
</p>, <p>一個主動模式的FTP連接建立要遵循以下步驟：
</p>, <p>大多數最新的<a href="/wiki/%E7%BD%91%E9%A1%B5%E6%B5%8F%E8%A7%88%E5%99%A8" title="網頁瀏覽器">網頁瀏覽器</a>和檔案管理器都能和FTP伺服器建立連接。這使得在FTP上通過一個介面就可以操控遠端檔案，如同操控本地檔案一樣。這個功能通過給定一個FTP的URL實現，形如ftp://&lt;伺服器位址&gt;（例如，<a class="external free" href="https://web.archive.org/web/20110927180542/http://ftp.gimp.org/" rel="nofollow">https://web.archive.org/web/20110927180542/http://ftp.gimp.org/</a> ）。是否提供密碼是可選擇的，如果有密碼，則形如ftp://&lt;login&gt;:&lt;password&gt;@&lt;ftpserveraddress&gt;。大部分網頁瀏覽器要求使用被動FTP模式，然而並不是所有的FTP伺服器都支援被動模式。
</p>, <p><span class="cx-segment" data-segmentid="152">FTP不是一項安全的協定，並且具有許多安全漏洞<sup class="reference" id="cite_ref-nurdle_2-0"><a href="#cite_note-nurdle-2">[2]</a></sup>。</span><span class="cx-segment" data-segmentid="153">1999年5月</span><span class="cx-segment" data-segmentid="152">發布的</span><span class="cx-segment" data-segmentid="153"><a href="/wiki/RFC" title="RFC">RFC</a> <a class="extiw" href="//tools.ietf.org/html/rfc2577" title="rfc:2577">2577</a></span>中<span class="cx-segment" data-segmentid="153">列出了以下幾個主要的漏洞：</span>
</p>, <p><span class="cx-segment" data-segmentid="166">通過FTP傳輸的流量不會被加密，所有傳輸通過明文進行的。任何能夠在網路上執行封包擷取（ <a href="/wiki/%E6%95%B8%E6%93%9A%E5%8C%85%E5%88%86%E6%9E%90%E5%99%A8" title="資料包剖析器">嗅探</a> ）的人都可以讀取用戶名稱、密碼、命令內容和資料<sup class="reference" id="cite_ref-tcpip_3-0"><a href="#cite_note-tcpip-3">[3]</a></sup><sup class="reference" id="cite_ref-nurdle2_4-0"><a href="#cite_note-nurdle2-4">[4]</a></sup>。</span><span class="cx-segment" data-segmentid="168">此問題在加密機制（如<a href="/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" title="傳輸層安全性協定">TLS</a>或SSL）產生之前的許多Internet協定規範（如<a href="/wiki/%E7%AE%80%E5%8D%95%E9%82%AE%E4%BB%B6%E4%BC%A0%E8%BE%93%E5%8D%8F%E8%AE%AE" title="簡單郵件傳輸協定">SMTP</a> 、<a href="/wiki/Telnet" title="Telnet">Telnet</a> 、POP和IMAP）中較為普遍<sup class="reference" id="cite_ref-clark_5-0"><a href="#cite_note-clark-5">[5]</a></sup>。</span>
</p>, <p><span class="cx-segment" data-segmentid="172">此問題的常見解決方案包括：</span>
</p>, <p>可以被傳送到<a class="mw-redirect" href="/wiki/FTP" title="FTP">FTP</a><a href="/wiki/%E6%9C%8D%E5%8A%A1%E5%99%A8" title="伺服器">伺服器</a>的<b><a href="/wiki/FTP%E5%91%BD%E4%BB%A4%E5%88%97%E8%A1%A8" title="FTP命令列表">FTP命令列表</a></b>，包含由<a class="mw-redirect" href="/wiki/IETF" title="IETF">IETF</a>在RFC 959中標準化的所有命令。需要注意的是，大多數命令列FTP用戶端都給用戶提供了額外的命令集。例如，GET是一個常見的用來下載檔案的用戶命令，用來替代原始的RETR命令。
</p>, <p>包含由<a class="mw-redirect" href="/wiki/IETF" title="IETF">IETF</a>在RFC 959中標準化的所有伺服器返回碼。回覆代碼是一個三位數值，第一個數字用於表示三種可能的結果之一————成功、失敗、表示錯誤或不完整的回覆。
</p>, <p><b>FTPS</b>是FTP標準的擴充，添加了<a class="mw-redirect" href="/wiki/%E5%AE%89%E5%85%A8%E5%A5%97%E6%8E%A5%E5%B1%82" title="安全通訊協定">安全通訊協定</a>（SSL）以及其繼任者<a href="/wiki/%E5%82%B3%E8%BC%B8%E5%B1%A4%E5%AE%89%E5%85%A8%E6%80%A7%E5%8D%94%E5%AE%9A" title="傳輸層安全性協定">傳輸層安全性協定</a>（TLS）的支援。
</p>, <p><b>SSH檔案傳輸協定</b>（縮寫：SFTP）可用於傳輸檔案並具有類似的用戶命令集，但使用<a href="/wiki/Secure_Shell" title="Secure Shell">Secure Shell</a>協定（SSH）傳輸檔案。與FTP不同，它對命令和資料進行加密，防止密碼和敏感資訊通過網路公開傳輸。<span class="cx-segment" data-segmentid="207">它無法與FTP相容。</span>
</p>, <p><b>小型檔案傳輸協定</b>（Trivial File Transfer Protocol, TFTP），是一種於1981年在RFC 783中定義的簡化的檔案傳輸協定（FTP）。
</p>, <p><b>簡單檔案傳輸協定</b>（Simple File Transfer Protocol）由<a href="/wiki/RFC" title="RFC">RFC</a> <a class="extiw" href="//tools.ietf.org/html/rfc913" title="rfc:913">913</a>定義，其複雜程度介於TFTP和FTP之間。它從未在<a href="/wiki/%E4%BA%92%E8%81%94%E7%BD%91" title="網際網路">網際網路</a>上被廣泛接受。它通過埠115執行，支援三種類型的資料傳輸： <a href="/wiki/ASCII" title="ASCII">ASCII</a> 、 <a href="/wiki/%E4%BA%8C%E8%BF%9B%E5%88%B6%E6%96%87%E4%BB%B6" title="二進位檔案">二進位</a>和連續。該協定還支援使用用戶名稱和密碼登入、資料夾和檔案管理（包括<i>重新命名</i>、<i>刪除</i>、<i>上傳</i>、<i>下載</i>）。
</p>]